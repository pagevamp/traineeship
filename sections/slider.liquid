{% comment %} importing the styles {% endcomment %}
<script src="{{ 'swiper.js' | asset_url }}" defer></script>
{{ 'swiper.css' | asset_url | stylesheet_tag }}

{% comment %} slider section {% endcomment %}
<section class="product-slider-section">
  <div class="swiper-container swiper">
    <div class="section-title-controls">
      <h2>Neutral Fall tones</h2>
      <div class="controls">
        <div class="prev">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-chevron-left"
            viewBox="0 0 16 16"
          >
            <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"/>
          </svg>
        </div>
        <div class="next">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-chevron-right"
            viewBox="0 0 16 16"
          >
            <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>
          </svg>
        </div>
      </div>
    </div>
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        {% assign product_list = block.settings.product_handle %}
        {% if product_list %}
          {% for product_handle in product_list %}
            {% if product_handle %}
              <div class="swiper-slide">
                {% render 'product-card' with product_handle:product_handle %}
              </div>
            {% else %}
              <p>No product available for handle: {{ product }}</p>
            {% endif %}
          {% endfor %}
        {% else %}
          <p>There is no product in the list</p>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Product Slider",
  "settings": [],
  "blocks": [
    {
      "type": "product",
      "name": "Product Card",
      "settings": [
        {
          "type": "product_list",
          "id": "product_handle",
          "label": "Select Product"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product Slider"
    }
  ]
}
{% endschema %}
